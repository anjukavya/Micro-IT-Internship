<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pro E-Commerce | All-in-One</title>
  <style>
    /* Reset & base */
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f3f4f6;
      color: #333;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    nav {
      background-color: #222;
      padding: 15px 0;
      text-align: center;
      flex-shrink: 0;
    }
    nav a {
      color: white;
      font-weight: bold;
      margin: 0 15px;
      text-decoration: none;
      font-size: 1.1rem;
      cursor: pointer;
    }
    nav a:hover, nav a.active {
      text-decoration: underline;
    }

    main {
      flex-grow: 1;
      max-width: 1100px;
      margin: 40px auto;
      padding: 0 15px 60px;
      width: 100%;
    }

    /* Shared section style */
    section.page-section {
      display: none;
    }
    section.page-section.active {
      display: block;
    }

    /* --- Home Page --- */
    header.home-header {
      background: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1350&q=80') center/cover no-repeat;
      height: 450px;
      color: white;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-shadow: 0 0 10px rgba(0,0,0,0.8);
      padding: 0 20px;
      border-radius: 10px;
    }
    header.home-header h1 {
      font-size: 3.5rem;
      margin: 0 0 20px;
    }
    header.home-header p {
      font-size: 1.3rem;
      margin-bottom: 30px;
      max-width: 600px;
      text-align: center;
    }
    header.home-header a.cta-btn {
      background-color: #28a745;
      color: white;
      padding: 15px 40px;
      text-decoration: none;
      font-size: 1.2rem;
      border-radius: 50px;
      box-shadow: 0 5px 15px rgba(40, 167, 69, 0.5);
      transition: background-color 0.3s ease;
      cursor: pointer;
    }
    header.home-header a.cta-btn:hover {
      background-color: #218838;
    }

    section.featured-products {
      margin: 40px 0 60px;
    }
    section.featured-products h2 {
      font-size: 2rem;
      margin-bottom: 20px;
      text-align: center;
    }
    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
      gap: 20px;
    }
    .product-card {
      background: white;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
      padding: 15px;
      text-align: center;
      transition: transform 0.3s ease;
      display: flex;
      flex-direction: column;
    }
    .product-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.15);
    }
    .product-card img {
      width: 100%;
      border-radius: 8px;
      max-height: 140px;
      object-fit: cover;
      margin-bottom: 12px;
    }
    .product-card h3 {
      margin: 0 0 6px;
      font-size: 1.2rem;
      color: #333;
      flex-grow: 1;
    }
    .product-card p.price {
      font-weight: bold;
      font-size: 1.1rem;
      color: #28a745;
      margin-bottom: 10px;
    }
    .product-card button {
      background: #28a745;
      border: none;
      padding: 10px 25px;
      border-radius: 50px;
      color: white;
      cursor: pointer;
      font-size: 1rem;
      transition: background-color 0.3s ease;
      margin-top: auto;
    }
    .product-card button:hover {
      background: #218838;
    }
    .view-all {
      text-align: center;
      margin-top: 30px;
    }
    .view-all a {
      color: #007bff;
      font-weight: bold;
      text-decoration: none;
      font-size: 1.1rem;
      cursor: pointer;
    }
    .view-all a:hover {
      text-decoration: underline;
    }

    /* Newsletter form */
    section.newsletter {
      background: #28a745;
      color: white;
      padding: 40px 20px;
      border-radius: 15px;
      max-width: 700px;
      margin: 0 auto 60px;
      box-shadow: 0 8px 20px rgba(40,167,69,0.3);
      text-align: center;
    }
    section.newsletter h2 {
      margin-bottom: 15px;
      font-size: 2rem;
    }
    section.newsletter form {
      display: flex;
      max-width: 500px;
      margin: 0 auto;
      gap: 10px;
    }
    section.newsletter input[type="email"] {
      flex: 1;
      padding: 12px 15px;
      font-size: 1rem;
      border: none;
      border-radius: 50px;
      outline: none;
    }
    section.newsletter button {
      background: white;
      color: #28a745;
      font-weight: bold;
      border: none;
      border-radius: 50px;
      padding: 12px 25px;
      cursor: pointer;
      font-size: 1rem;
      transition: background-color 0.3s ease;
    }
    section.newsletter button:hover {
      background-color: #f1f1f1;
    }
    section.newsletter .message {
      margin-top: 15px;
      font-weight: 600;
    }

    /* --- Products Page --- */
    h1.products-title {
      text-align: center;
      margin-bottom: 25px;
      font-size: 2.2rem;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin-bottom: 30px;
    }
    .controls label {
      font-weight: bold;
      margin-right: 8px;
    }
    select {
      padding: 7px 12px;
      border-radius: 5px;
      border: 1px solid #ccc;
      font-size: 1rem;
      min-width: 130px;
    }

    /* Quantity + button for products */
    .quantity-container {
      margin-bottom: 12px;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 8px;
    }
    .quantity-container label {
      font-weight: 600;
    }
    .quantity-container input[type="number"] {
      width: 60px;
      padding: 6px 8px;
      font-size: 1rem;
      border-radius: 5px;
      border: 1px solid #ccc;
      text-align: center;
    }

    /* --- Cart Page --- */
    section.cart table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 30px;
    }
    section.cart th, section.cart td {
      padding: 12px 10px;
      border-bottom: 1px solid #ddd;
      text-align: center;
    }
    section.cart th {
      background-color: #f8f9fa;
    }
    section.cart td img {
      max-width: 80px;
      border-radius: 6px;
    }
    section.cart input[type="number"] {
      width: 60px;
      padding: 6px 8px;
      font-size: 1rem;
      border-radius: 5px;
      border: 1px solid #ccc;
      text-align: center;
    }
    section.cart button.remove-btn {
      background: #dc3545;
      border: none;
      color: white;
      padding: 8px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
      transition: background-color 0.3s ease;
    }
    section.cart button.remove-btn:hover {
      background-color: #b02a37;
    }
    .cart-summary {
      font-size: 1.2rem;
      text-align: right;
      margin-bottom: 30px;
    }
    button.checkout-btn {
      background: #007bff;
      color: white;
      border: none;
      padding: 15px 40px;
      border-radius: 50px;
      font-size: 1.2rem;
      cursor: pointer;
      transition: background-color 0.3s ease;
      display: block;
      margin-left: auto;
    }
    button.checkout-btn:hover {
      background-color: #0056b3;
    }
    .empty-cart {
      text-align: center;
      font-size: 1.3rem;
      margin-top: 60px;
      color: #777;
    }

    /* --- Contact Page --- */
    section.contact-form {
      max-width: 600px;
      margin: 0 auto 50px;
    }
    section.contact-form h2 {
      text-align: center;
      margin-bottom: 30px;
      font-size: 2rem;
    }
    section.contact-form form {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    section.contact-form label {
      font-weight: bold;
    }
    section.contact-form input,
    section.contact-form textarea {
      padding: 10px 15px;
      font-size: 1rem;
      border-radius: 6px;
      border: 1px solid #ccc;
      resize: vertical;
    }
    section.contact-form button {
      width: 150px;
      align-self: center;
      background-color: #28a745;
      border: none;
      color: white;
      padding: 12px 0;
      font-size: 1.1rem;
      border-radius: 50px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    section.contact-form button:hover {
      background-color: #218838;
    }
    section.contact-form .message {
      text-align: center;
      margin-top: 15px;
      font-weight: 600;
      color: #28a745;
    }

    section.map-container {
      max-width: 700px;
      margin: 0 auto;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    }
    section.map-container iframe {
      width: 100%;
      height: 350px;
      border: none;
    }

    /* Responsive tweaks */
    @media (max-width: 600px) {
      header.home-header h1 {
        font-size: 2.3rem;
      }
      header.home-header p {
        font-size: 1rem;
      }
      section.newsletter form {
        flex-direction: column;
      }
      section.newsletter input[type="email"], section.newsletter button {
        width: 100%;
      }
    }
  </style>
</head>
<body>

  <nav>
    <a href="#" class="nav-link active" data-target="home">Home</a>
    <a href="#" class="nav-link" data-target="products">Products</a>
    <a href="#" class="nav-link" data-target="cart">Cart (<span id="cart-count">0</span>)</a>
    <a href="#" class="nav-link" data-target="contact">Contact</a>
  </nav>

  <main>
    <!-- HOME SECTION -->
    <section id="home" class="page-section active">
      <header class="home-header">
        <h1>Welcome to Pro E-Commerce</h1>
        <p>Your one-stop shop for the best products at unbeatable prices.</p>
        <a href="#" id="home-shop-btn" class="cta-btn">Shop Now</a>
      </header>

      <section class="featured-products">
        <h2>Featured Products</h2>
        <div id="featured-products" class="product-grid"></div>
        <div class="view-all">
          <a href="#" id="view-all-products">View All Products</a>
        </div>
      </section>

      <section class="newsletter">
        <h2>Subscribe to our Newsletter</h2>
        <form id="newsletter-form" novalidate>
          <input type="email" id="newsletter-email" placeholder="Enter your email" required />
          <button type="submit">Subscribe</button>
        </form>
        <div class="message" id="newsletter-message"></div>
      </section>
    </section>

    <!-- PRODUCTS SECTION -->
    <section id="products" class="page-section">
      <h1 class="products-title">Products</h1>

      <div class="controls">
        <div>
          <label for="category-filter">Category:</label>
          <select id="category-filter">
            <option value="all">All</option>
          </select>
        </div>
        <div>
          <label for="price-sort">Sort By Price:</label>
          <select id="price-sort">
            <option value="none">None</option>
            <option value="asc">Lowest to Highest</option>
            <option value="desc">Highest to Lowest</option>
          </select>
        </div>
      </div>

      <div id="products-list" class="product-grid"></div>
    </section>

    <!-- CART SECTION -->
    <section id="cart" class="page-section cart">
      <h1>Your Shopping Cart</h1>
      <table id="cart-table" aria-label="Shopping cart items">
        <thead>
          <tr>
            <th>Product</th>
            <th>Name</th>
            <th>Price</th>
            <th>Qty</th>
            <th>Total</th>
            <th>Remove</th>
          </tr>
        </thead>
        <tbody id="cart-items">
          <!-- Items inserted dynamically -->
        </tbody>
      </table>
      <div class="cart-summary" id="cart-summary">Total: $0.00</div>
      <button class="checkout-btn" id="checkout-btn">Checkout</button>
      <div class="empty-cart" id="empty-cart-msg" style="display:none;">Your cart is empty.</div>
    </section>

    <!-- CONTACT SECTION -->
    <section id="contact" class="page-section contact">
      <section class="contact-form">
        <h2>Contact Us</h2>
        <form id="contact-form" novalidate>
          <label for="name">Name</label>
          <input type="text" id="name" required />

          <label for="email">Email</label>
          <input type="email" id="email" required />

          <label for="message">Message</label>
          <textarea id="message" rows="5" required></textarea>

          <button type="submit">Send</button>
        </form>
        <div class="message" id="contact-message"></div>
      </section>

      <section class="map-container">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3153.019841503108!2d-122.42067958468016!3d37.779280679757836!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8085809c769b9c93%3A0x4e3e94e4ddf5dca8!2sSan%20Francisco%20City%20Hall!5e0!3m2!1sen!2sus!4v1621915808292!5m2!1sen!2sus"
          allowfullscreen=""
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
          title="Our Location"
        ></iframe>
      </section>
    </section>
  </main>

  <script>
    // Sample products array
    const products = [
      {
        id: 1,
        name: "Wireless Headphones",
        category: "electronics",
        price: 59.99,
        image: "https://images.unsplash.com/photo-1511376777868-611b54f68947?auto=format&fit=crop&w=400&q=60",
      },
      {
        id: 2,
        name: "Smart Watch",
        category: "electronics",
        price: 129.99,
        image: "https://images.unsplash.com/photo-1523475496153-3a3a4476d2f4?auto=format&fit=crop&w=400&q=60",
      },
      {
        id: 3,
        name: "Running Shoes",
        category: "fashion",
        price: 89.99,
        image: "https://images.unsplash.com/photo-1528701800489-6a36a9424de0?auto=format&fit=crop&w=400&q=60",
      },
      {
        id: 4,
        name: "Leather Wallet",
        category: "fashion",
        price: 39.99,
        image: "https://images.unsplash.com/photo-1517423440428-a5a00ad493e8?auto=format&fit=crop&w=400&q=60",
      },
      {
        id: 5,
        name: "Coffee Maker",
        category: "home",
        price: 49.99,
        image: "https://images.unsplash.com/photo-1509042239860-f550ce710b93?auto=format&fit=crop&w=400&q=60",
      },
      {
        id: 6,
        name: "Decorative Lamp",
        category: "home",
        price: 75.0,
        image: "https://images.unsplash.com/photo-1504384308090-c894fdcc538d?auto=format&fit=crop&w=400&q=60",
      },
      {
        id: 7,
        name: "Bluetooth Speaker",
        category: "electronics",
        price: 45.5,
        image: "https://images.unsplash.com/photo-1512499617640-c2f9991b4b4d?auto=format&fit=crop&w=400&q=60",
      },
      {
        id: 8,
        name: "Casual T-shirt",
        category: "fashion",
        price: 19.99,
        image: "https://images.unsplash.com/photo-1521334884684-d80222895322?auto=format&fit=crop&w=400&q=60",
      },
    ];

    // Cache DOM elements
    const navLinks = document.querySelectorAll('nav a.nav-link');
    const sections = document.querySelectorAll('section.page-section');
    const cartCountEl = document.getElementById('cart-count');
    const featuredProductsEl = document.getElementById('featured-products');
    const productsListEl = document.getElementById('products-list');
    const categoryFilterEl = document.getElementById('category-filter');
    const priceSortEl = document.getElementById('price-sort');
    const cartItemsEl = document.getElementById('cart-items');
    const cartSummaryEl = document.getElementById('cart-summary');
    const emptyCartMsgEl = document.getElementById('empty-cart-msg');
    const checkoutBtn = document.getElementById('checkout-btn');
    const newsletterForm = document.getElementById('newsletter-form');
    const newsletterMessage = document.getElementById('newsletter-message');
    const contactForm = document.getElementById('contact-form');
    const contactMessage = document.getElementById('contact-message');
    const homeShopBtn = document.getElementById('home-shop-btn');
    const viewAllProductsLink = document.getElementById('view-all-products');

    // CART DATA STORAGE KEY
    const CART_STORAGE_KEY = 'pro_ecommerce_cart';

    // Utility: get cart from localStorage
    function getCart() {
      const cartJSON = localStorage.getItem(CART_STORAGE_KEY);
      return cartJSON ? JSON.parse(cartJSON) : [];
    }
    // Utility: save cart to localStorage
    function saveCart(cart) {
      localStorage.setItem(CART_STORAGE_KEY, JSON.stringify(cart));
    }

    // NAVIGATION FUNCTION
    navLinks.forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const target = link.getAttribute('data-target');
        if (!target) return;
        switchPage(target);
      });
    });

    function switchPage(pageId) {
      // Hide all sections
      sections.forEach(sec => sec.classList.remove('active'));
      // Remove active from all nav links
      navLinks.forEach(link => link.classList.remove('active'));
      // Show selected section
      const activeSection = document.getElementById(pageId);
      if (activeSection) activeSection.classList.add('active');
      // Highlight nav link
      document.querySelector(`nav a[data-target="${pageId}"]`).classList.add('active');
      // Special actions per page
      if (pageId === 'products') {
        renderProducts();
      } else if (pageId === 'cart') {
        renderCart();
      }
    }

    // PRODUCT RENDERING
    function renderFeaturedProducts() {
      // Show top 4 products in featured section
      const featured = products.slice(0, 4);
      featuredProductsEl.innerHTML = '';
      featured.forEach(prod => {
        const card = createProductCard(prod, true);
        featuredProductsEl.appendChild(card);
      });
    }

    function renderProducts() {
      // Filter & sort products based on controls
      const category = categoryFilterEl.value;
      const sortOrder = priceSortEl.value;

      let filtered = category === 'all' ? products : products.filter(p => p.category === category);

      if (sortOrder === 'asc') {
        filtered.sort((a,b) => a.price - b.price);
      } else if (sortOrder === 'desc') {
        filtered.sort((a,b) => b.price - a.price);
      }

      productsListEl.innerHTML = '';

      filtered.forEach(prod => {
        const card = createProductCard(prod, false);
        productsListEl.appendChild(card);
      });
    }

    // Create product card element (flag to control quantity input or simple button)
    function createProductCard(product, simpleAdd = false) {
      const card = document.createElement('div');
      card.classList.add('product-card');

      const img = document.createElement('img');
      img.src = product.image;
      img.alt = product.name;
      card.appendChild(img);

      const title = document.createElement('h3');
      title.textContent = product.name;
      card.appendChild(title);

      const price = document.createElement('p');
      price.classList.add('price');
      price.textContent = `$${product.price.toFixed(2)}`;
      card.appendChild(price);

      if (simpleAdd) {
        // Just an Add to Cart button
        const btn = document.createElement('button');
        btn.textContent = 'Add to Cart';
        btn.addEventListener('click', () => addToCart(product.id, 1));
        card.appendChild(btn);
      } else {
        // Quantity input + Add button
        const qtyContainer = document.createElement('div');
        qtyContainer.classList.add('quantity-container');

        const qtyLabel = document.createElement('label');
        qtyLabel.textContent = 'Qty: ';
        qtyLabel.setAttribute('for', `qty-${product.id}`);

        const qtyInput = document.createElement('input');
        qtyInput.type = 'number';
        qtyInput.min = 1;
        qtyInput.value = 1;
        qtyInput.id = `qty-${product.id}`;

        qtyContainer.appendChild(qtyLabel);
        qtyContainer.appendChild(qtyInput);
        card.appendChild(qtyContainer);

        const btn = document.createElement('button');
        btn.textContent = 'Add to Cart';
        btn.addEventListener('click', () => {
          let qty = parseInt(qtyInput.value);
          if (isNaN(qty) || qty < 1) qty = 1;
          addToCart(product.id, qty);
        });
        card.appendChild(btn);
      }

      return card;
    }

    // ADD TO CART FUNCTION
    function addToCart(productId, quantity) {
      const cart = getCart();
      const index = cart.findIndex(item => item.productId === productId);
      if (index > -1) {
        cart[index].quantity += quantity;
      } else {
        cart.push({ productId, quantity });
      }
      saveCart(cart);
      updateCartCount();
      alert('Product added to cart!');
    }

    // UPDATE CART COUNT IN NAV
    function updateCartCount() {
      const cart = getCart();
      const totalQty = cart.reduce((sum, item) => sum + item.quantity, 0);
      cartCountEl.textContent = totalQty;
    }

    // RENDER CART ITEMS
    function renderCart() {
      const cart = getCart();
      cartItemsEl.innerHTML = '';

      if (cart.length === 0) {
        emptyCartMsgEl.style.display = 'block';
        checkoutBtn.style.display = 'none';
        cartSummaryEl.textContent = 'Total: $0.00';
        return;
      }

      emptyCartMsgEl.style.display = 'none';
      checkoutBtn.style.display = 'inline-block';

      let totalPrice = 0;

      cart.forEach(item => {
        const prod = products.find(p => p.id === item.productId);
        if (!prod) return;

        const row = document.createElement('tr');

        // Product image
        const tdImg = document.createElement('td');
        const img = document.createElement('img');
        img.src = prod.image;
        img.alt = prod.name;
        tdImg.appendChild(img);
        row.appendChild(tdImg);

        // Name
        const tdName = document.createElement('td');
        tdName.textContent = prod.name;
        row.appendChild(tdName);

        // Price
        const tdPrice = document.createElement('td');
        tdPrice.textContent = `$${prod.price.toFixed(2)}`;
        row.appendChild(tdPrice);

        // Quantity with input
        const tdQty = document.createElement('td');
        const qtyInput = document.createElement('input');
        qtyInput.type = 'number';
        qtyInput.min = 1;
        qtyInput.value = item.quantity;
        qtyInput.addEventListener('change', () => {
          let newQty = parseInt(qtyInput.value);
          if (isNaN(newQty) || newQty < 1) newQty = 1;
          updateCartItemQuantity(prod.id, newQty);
        });
        tdQty.appendChild(qtyInput);
        row.appendChild(tdQty);

        // Total price for item
        const tdTotal = document.createElement('td');
        const itemTotal = prod.price * item.quantity;
        tdTotal.textContent = `$${itemTotal.toFixed(2)}`;
        row.appendChild(tdTotal);

        // Remove button
        const tdRemove = document.createElement('td');
        const removeBtn = document.createElement('button');
        removeBtn.textContent = 'Remove';
        removeBtn.classList.add('remove-btn');
        removeBtn.addEventListener('click', () => {
          removeCartItem(prod.id);
        });
        tdRemove.appendChild(removeBtn);
        row.appendChild(tdRemove);

        cartItemsEl.appendChild(row);

        totalPrice += itemTotal;
      });

      cartSummaryEl.textContent = `Total: $${totalPrice.toFixed(2)}`;
    }

    // UPDATE CART ITEM QUANTITY
    function updateCartItemQuantity(productId, quantity) {
      const cart = getCart();
      const index = cart.findIndex(item => item.productId === productId);
      if (index > -1) {
        cart[index].quantity = quantity;
        saveCart(cart);
        updateCartCount();
        renderCart();
      }
    }

    // REMOVE ITEM FROM CART
    function removeCartItem(productId) {
      let cart = getCart();
      cart = cart.filter(item => item.productId !== productId);
      saveCart(cart);
      updateCartCount();
      renderCart();
    }

    // CHECKOUT BUTTON CLICKED
    checkoutBtn.addEventListener('click', () => {
      alert('Checkout process initiated. (Demo functionality)');
      // Here you would integrate payment processing or order submission
    });

    // NEWSLETTER FORM HANDLING
    newsletterForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const email = newsletterForm['newsletter-email'].value.trim();
      if (!validateEmail(email)) {
        newsletterMessage.style.color = '#dc3545';
        newsletterMessage.textContent = 'Please enter a valid email address.';
        return;
      }
      newsletterMessage.style.color = '#fff';
      newsletterMessage.textContent = 'Thank you for subscribing!';
      newsletterForm.reset();
    });

    // EMAIL VALIDATION UTILITY
    function validateEmail(email) {
      const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return re.test(email);
    }

    // CONTACT FORM HANDLING
    contactForm.addEventListener('submit', (e) => {
      e.preventDefault();

      const name = contactForm['name'].value.trim();
      const email = contactForm['email'].value.trim();
      const message = contactForm['message'].value.trim();

      if (!name || !email || !message) {
        contactMessage.style.color = 'red';
        contactMessage.textContent = 'Please fill out all fields.';
        return;
      }
      if (!validateEmail(email)) {
        contactMessage.style.color = 'red';
        contactMessage.textContent = 'Please enter a valid email address.';
        return;
      }

      contactMessage.style.color = 'green';
      contactMessage.textContent = 'Thank you for contacting us! We will get back to you soon.';
      contactForm.reset();
    });

    // Populate category filter options dynamically
    function populateCategoryFilter() {
      const categories = [...new Set(products.map(p => p.category))];
      categories.forEach(cat => {
        const option = document.createElement('option');
        option.value = cat;
        option.textContent = cat.charAt(0).toUpperCase() + cat.slice(1);
        categoryFilterEl.appendChild(option);
      });
    }

    // Handle filter and sort changes
    categoryFilterEl.addEventListener('change', renderProducts);
    priceSortEl.addEventListener('change', renderProducts);

    // Home Shop button scroll to Products page
    homeShopBtn.addEventListener('click', (e) => {
      e.preventDefault();
      switchPage('products');
    });

    // View All Products link scroll to Products page
    viewAllProductsLink.addEventListener('click', (e) => {
      e.preventDefault();
      switchPage('products');
    });

    // Initialize page
    function init() {
      populateCategoryFilter();
      renderFeaturedProducts();
      updateCartCount();
    }

    init();
  </script>
</body>
</html>
